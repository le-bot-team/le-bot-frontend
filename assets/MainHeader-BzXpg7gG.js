import{f as me,a8 as S,$ as he,a9 as ge,a1 as ve,A as pe,S as Te,T as be,r as E,a2 as ye,C as T,aa as we,P as Q,B as A,ab as B,ac as j,ad as Se,h as M,ae as Pe,af as _e,W as Ce,K as xe,a as R,ag as D,s as ke,c as V,j as P,u as l,w as d,b as i,n as I,t as K,o as U,ah as Oe}from"./index-DgppYffZ.js";import{Q as He}from"./QImg-CynZMVAF.js";import{Q as Ee,a as Qe}from"./QHeader-Uee7-EJO.js";import{Q as Ae}from"./QToolbar-B-1_DM-0.js";import{bus as q}from"./bus-D2ykCPv9.js";import{v as Be,a as $,u as je,b as Me,c as De,d as qe,r as L,s as $e,p as N}from"./position-engine-BsAm_ntu.js";import{c as W}from"./selection-dIM8yNrf.js";import{i as z}from"./common-K7rkEdDd.js";import"./QResizeObserver-BJ_zlYrp.js";const Le=me({name:"QTooltip",inheritAttrs:!1,props:{...je,...ve,...S,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...S.transitionShow,default:"jump-down"},transitionHide:{...S.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:$},self:{type:String,default:"top middle",validator:$},offset:{type:Array,default:()=>[14,14],validator:Be},scrollTarget:ge,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...he],setup(e,{slots:f,emit:u,attrs:o}){let s,c;const b=pe(),{proxy:{$q:a}}=b,m=E(null),v=E(!1),F=T(()=>N(e.anchor,a.lang.rtl)),G=T(()=>N(e.self,a.lang.rtl)),J=T(()=>e.persistent!==!0),{registerTick:X,removeTick:Y}=Te(),{registerTimeout:p}=be(),{transitionProps:Z,transitionStyle:ee}=Pe(e),{localScrollTarget:_,changeScrollEvent:te,unconfigureScrollTarget:oe}=Me(e,O),{anchorEl:n,canShow:ae,anchorEvents:h}=De({showing:v,configureAnchorEl:ce}),{show:ne,hide:y}=ye({showing:v,canShow:ae,handleShow:ie,handleHide:re,hideOnRouteChange:J,processOnMount:!0});Object.assign(h,{delayShow:le,delayHide:ue});const{showPortal:C,hidePortal:x,renderPortal:se}=we(b,m,fe,"tooltip");if(a.platform.is.mobile===!0){const t={anchorEl:n,innerRef:m,onClickOutside(r){return y(r),r.target.classList.contains("q-dialog__backdrop")&&xe(r),!0}},w=T(()=>e.modelValue===null&&e.persistent!==!0&&v.value===!0);Q(w,r=>{(r===!0?qe:L)(t)}),A(()=>{L(t)})}function ie(t){C(),X(()=>{c=new MutationObserver(()=>g()),c.observe(m.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),g(),O()}),s===void 0&&(s=Q(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,g)),p(()=>{C(!0),u("show",t)},e.transitionDuration)}function re(t){Y(),x(),k(),p(()=>{x(!0),u("hide",t)},e.transitionDuration)}function k(){c!==void 0&&(c.disconnect(),c=void 0),s!==void 0&&(s(),s=void 0),oe(),B(h,"tooltipTemp")}function g(){$e({targetEl:m.value,offset:e.offset,anchorEl:n.value,anchorOrigin:F.value,selfOrigin:G.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function le(t){if(a.platform.is.mobile===!0){W(),document.body.classList.add("non-selectable");const w=n.value,r=["touchmove","touchcancel","touchend","click"].map(H=>[w,H,"delayHide","passiveCapture"]);j(h,"tooltipTemp",r)}p(()=>{ne(t)},e.delay)}function ue(t){a.platform.is.mobile===!0&&(B(h,"tooltipTemp"),W(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),p(()=>{y(t)},e.hideDelay)}function ce(){if(e.noParentEvent===!0||n.value===null)return;const t=a.platform.is.mobile===!0?[[n.value,"touchstart","delayShow","passive"]]:[[n.value,"mouseenter","delayShow","passive"],[n.value,"mouseleave","delayHide","passive"]];j(h,"anchor",t)}function O(){if(n.value!==null||e.scrollTarget!==void 0){_.value=Se(n.value,e.scrollTarget);const t=e.noParentEvent===!0?g:y;te(_.value,t)}}function de(){return v.value===!0?M("div",{...o,ref:m,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,ee.value],role:"tooltip"},Ce(f.default)):null}function fe(){return M(_e,Z.value,de)}return A(k),Object.assign(b.proxy,{updatePosition:g}),se}}),Ne=R({__name:"ThemeButton",setup(e){const{toggleTheme:f}=D(),{themeProps:u}=ke(D()),o=z("components.ThemeButton");return(s,c)=>(U(),V(P,{icon:l(u).icon,"text-color":l(u).color,flat:"",round:"",onClick:l(f)},{default:d(()=>[i(Le,{class:"text-no-wrap",anchor:"center right",self:"center left","transition-hide":"jump-left","transition-show":"jump-right"},{default:d(()=>[I(K(l(o)("labels.switchTheme")),1)]),_:1})]),_:1},8,["icon","text-color","onClick"]))}}),Je=R({__name:"MainHeader",setup(e){const f=z("layouts.headers.MainHeader");return(u,o)=>(U(),V(Ee,{bordered:"",class:"bg-primary text-white"},{default:d(()=>[i(Ae,null,{default:d(()=>[i(P,{dense:"",flat:"",icon:"menu",round:"",onClick:o[0]||(o[0]=s=>l(q).emit("drawer","switch","left"))}),i(Qe,null,{default:d(()=>[i(Oe,null,{default:d(()=>[i(He,{src:"favicon.ico"})]),_:1}),I(" "+K(l(f)("labels.title")),1)]),_:1}),i(Ne),i(P,{dense:"",flat:"",icon:"menu",round:"",onClick:o[1]||(o[1]=s=>l(q).emit("drawer","switch","right"))})]),_:1})]),_:1}))}});export{Je as default};
