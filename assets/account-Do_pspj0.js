import{p as o,ai as s,aS as i,bb as c,v as n}from"./index-DgppYffZ.js";const f=()=>{const a=o(),{updateProfile:e}=s();a.accessToken="",e(),n.replace("/").catch(console.error),setTimeout(()=>location.reload(),100)},v=async()=>{const a=o(),e=s();if(!a.accessToken)throw new Error("Failed to get access token");const{data:r}=await i(a.accessToken);if(!r.success)throw new Error("Failed to retrieve profile information");if(e.profile?.avatarHash!=r.data.avatarHash||!e.profile?.avatar?.length){const{data:t}=await c(a.accessToken);if(!t.success)throw new Error("Failed to retrieve profile avatar");r.data.avatar=t.data.avatar}return r.data};export{f as l,v as r};
