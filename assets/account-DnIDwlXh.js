import{aT as o,aH as s,b8 as c,br as i,bs as n}from"./index-b6TFcoIE.js";const f=()=>{const a=o(),{updateProfile:e}=s();a.accessToken="",e(),n.replace("/").catch(console.error),setTimeout(()=>location.reload(),100)},u=async()=>{const a=o(),e=s();if(!a.accessToken)throw new Error("Failed to get access token");const{data:r}=await c(a.accessToken);if(!r.success)throw new Error("Failed to retrieve profile information");if(e.profile?.avatarHash!=r.data.avatarHash||!e.profile?.avatar?.length){const{data:t}=await i(a.accessToken);if(!t.success)throw new Error("Failed to retrieve profile avatar");r.data.avatar=t.data.avatar}return r.data};export{f as l,u as r};
