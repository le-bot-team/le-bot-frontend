import{f as me,l as S,k as he,s as ve,n as ge,p as pe,r as E,q as T,v as Te,x as ye,y as be,z as we,A as Se,B as Q,M as A,ay as B,az as M,H as Pe,K as j,T as _e,L as xe,O as Ce,a as V,aA as q,aB as ke,c as W,ac as P,u as l,w as d,b as i,ag as z,ab as I,o as K,aC as Oe}from"./index-b6TFcoIE.js";import{Q as He}from"./QImg-118tDvkF.js";import{Q as Ee,a as Qe}from"./QHeader-B9SCaJAO.js";import{Q as Ae}from"./QToolbar-8U_tfUes.js";import{bus as D}from"./bus-CrzorHy0.js";import{v as Be,a as L,e as Me,p as N,b as je,c as qe,d as De,r as $,s as Le}from"./position-engine-CazvJ7FW.js";import{c as R}from"./selection-MuwOv8cY.js";import{i as U}from"./common-Cot9E2c7.js";import"./QResizeObserver-CvALXZhY.js";const Ne=me({name:"QTooltip",inheritAttrs:!1,props:{...Me,...ge,...S,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...S.transitionShow,default:"jump-down"},transitionHide:{...S.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:L},self:{type:String,default:"top middle",validator:L},offset:{type:Array,default:()=>[14,14],validator:Be},scrollTarget:ve,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...he],setup(e,{slots:f,emit:u,attrs:o}){let s,c;const y=pe(),{proxy:{$q:a}}=y,m=E(null),g=E(!1),F=T(()=>N(e.anchor,a.lang.rtl)),G=T(()=>N(e.self,a.lang.rtl)),J=T(()=>e.persistent!==!0),{registerTick:X,removeTick:Y}=Te(),{registerTimeout:p}=ye(),{transitionProps:Z,transitionStyle:ee}=be(e),{localScrollTarget:_,changeScrollEvent:te,unconfigureScrollTarget:oe}=je(e,O),{anchorEl:n,canShow:ae,anchorEvents:h}=qe({showing:g,configureAnchorEl:ce}),{show:ne,hide:b}=we({showing:g,canShow:ae,handleShow:ie,handleHide:re,hideOnRouteChange:J,processOnMount:!0});Object.assign(h,{delayShow:le,delayHide:ue});const{showPortal:x,hidePortal:C,renderPortal:se}=Se(y,m,fe,"tooltip");if(a.platform.is.mobile===!0){const t={anchorEl:n,innerRef:m,onClickOutside(r){return b(r),r.target.classList.contains("q-dialog__backdrop")&&Ce(r),!0}},w=T(()=>e.modelValue===null&&e.persistent!==!0&&g.value===!0);Q(w,r=>{(r===!0?De:$)(t)}),A(()=>{$(t)})}function ie(t){x(),X(()=>{c=new MutationObserver(()=>v()),c.observe(m.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),v(),O()}),s===void 0&&(s=Q(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,v)),p(()=>{x(!0),u("show",t)},e.transitionDuration)}function re(t){Y(),C(),k(),p(()=>{C(!0),u("hide",t)},e.transitionDuration)}function k(){c!==void 0&&(c.disconnect(),c=void 0),s!==void 0&&(s(),s=void 0),oe(),B(h,"tooltipTemp")}function v(){Le({targetEl:m.value,offset:e.offset,anchorEl:n.value,anchorOrigin:F.value,selfOrigin:G.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function le(t){if(a.platform.is.mobile===!0){R(),document.body.classList.add("non-selectable");const w=n.value,r=["touchmove","touchcancel","touchend","click"].map(H=>[w,H,"delayHide","passiveCapture"]);M(h,"tooltipTemp",r)}p(()=>{ne(t)},e.delay)}function ue(t){a.platform.is.mobile===!0&&(B(h,"tooltipTemp"),R(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),p(()=>{b(t)},e.hideDelay)}function ce(){if(e.noParentEvent===!0||n.value===null)return;const t=a.platform.is.mobile===!0?[[n.value,"touchstart","delayShow","passive"]]:[[n.value,"mouseenter","delayShow","passive"],[n.value,"mouseleave","delayHide","passive"]];M(h,"anchor",t)}function O(){if(n.value!==null||e.scrollTarget!==void 0){_.value=Pe(n.value,e.scrollTarget);const t=e.noParentEvent===!0?v:b;te(_.value,t)}}function de(){return g.value===!0?j("div",{...o,ref:m,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",o.class],style:[o.style,ee.value],role:"tooltip"},xe(f.default)):null}function fe(){return j(_e,Z.value,de)}return A(k),Object.assign(y.proxy,{updatePosition:v}),se}}),$e=V({__name:"ThemeButton",setup(e){const{toggleTheme:f}=q(),{themeProps:u}=ke(q()),o=U("components.ThemeButton");return(s,c)=>(K(),W(P,{icon:l(u).icon,"text-color":l(u).color,flat:"",round:"",onClick:l(f)},{default:d(()=>[i(Ne,{class:"text-no-wrap",anchor:"center right",self:"center left","transition-hide":"jump-left","transition-show":"jump-right"},{default:d(()=>[z(I(l(o)("labels.switchTheme")),1)]),_:1})]),_:1},8,["icon","text-color","onClick"]))}}),Je=V({__name:"MainHeader",setup(e){const f=U("layouts.headers.MainHeader");return(u,o)=>(K(),W(Ee,{bordered:"",class:"bg-primary text-white"},{default:d(()=>[i(Ae,null,{default:d(()=>[i(P,{dense:"",flat:"",icon:"menu",round:"",onClick:o[0]||(o[0]=s=>l(D).emit("drawer","switch","left"))}),i(Qe,null,{default:d(()=>[i(Oe,null,{default:d(()=>[i(He,{src:"favicon.ico"})]),_:1}),z(" "+I(l(f)("labels.title")),1)]),_:1}),i($e),i(P,{dense:"",flat:"",icon:"menu",round:"",onClick:o[1]||(o[1]=s=>l(D).emit("drawer","switch","right"))})]),_:1})]),_:1}))}});export{Je as default};
